<%
var is_staff_locked = containerInfo.get('has_explicit_staff_lock') || containerInfo.get('ancestor_has_staff_lock');
%>
<div class="xblock-editor" data-locator="<%= xblockInfo.get('id') %>" data-course-key="<%= xblockInfo.get('courseKey') %>">

    <div class="modal-section visibility-summary">
        <% if (is_staff_locked) { %>
            <div class="summary-message summary-message-warning visibility-summary-message">
                <i class="icon icon-warning-sign"></i>
                <p class="copy">The Unit this component is contained in is hidden from students. Visibility settings here will be trumped by this.</p>
            </div>
        <% } %>

        <!-- NOTE: use when no group configuration has been set -->
        <div class="is-not-configured has-actions">
            <h4 class="title">You have not set up any groups to manage visibility with.</h4>

            <div class="copy">
                <p>Groups are a way for you to organize content in your course with a particular student experience in mind. They are commonly used to facilitate content and pedagogical experiments as well as provide different tracks of content.</p>
            </div>

            <div class="actions">
                <a href="" class="action action-primary action-settings">Manage groups in this course</a>
            </div>
        </div>
    </div>

    <form class="visibility-controls-form" method="post" action="">

        <div class="modal-section visibility-controls">
            <h3 class="modal-section-title">Set visibility to:</h3>

            <div class="modal-section-content">

                <section class="visibility-controls-primary">
                    <ul class="list-fields list-radio">
                        <li class="field field-radio field-visibility-level">
                            <input type="radio" id="visibility-level-all" name="visibility-level" value="" class="input input-radio visibility-level-all"  />
                            <label for="visibility-level-all" class="label">All Students and Staff</label>
                        </li>

                        <li class="field field-radio field-visibility-level">
                            <input type="radio" id="visibility-level-specific" name="visibility-level" value="" class="input input-radio visibility-level-specific" checked="checked" />
                            <label for="visibility-level-specific" class="label">Specific Content Groups</label>
                        </li>
                    </ul>
                </section>

                <!-- NOTE: @andyarmstrong, if you need this wrapper to show and hide, great. If not, please remove it from the DOM -->
                <div class="wrapper-visibility-specific">

                    <section class="visibility-controls-secondary">
                        <div class="visibility-controls-group">
                            <h4 class="visibility-controls-title modal-subsection-title sr">Content Groups</h4>
                            <ul class="list-fields list-checkbox">
                                <li class="field field-checkbox field-visibility-content-group">
                                    <input type="checkbox" id="visibility-content-group-NAME1" name="visibility-content-group" value="" class="input input-checkbox visibility-content-group-NAME1" />
                                    <label for="visibility-content-group-NAME1" class="label">Content Group NAME 1</label>
                                </li>

                                <li class="field field-checkbox field-visibility-content-group">
                                    <input type="checkbox" id="visibility-content-group-NAME2" name="visibility-content-group" value="" class="input input-checkbox visibility-content-group-NAME2" />
                                    <label for="visibility-content-group-NAME2" class="label">Content Group NAME 2</label>
                                </li>

                                <li class="field field-checkbox field-visibility-content-group">
                                    <input type="checkbox" id="visibility-content-group-NAME3" name="visibility-content-group" value="" class="input input-checkbox visibility-content-group-NAME3" />
                                    <label for="visibility-content-group-NAME3" class="label">Content Group NAME 3</label>
                                </li>

                                <li class="field field-checkbox field-visibility-content-group">
                                    <input type="checkbox" id="visibility-content-group-NAME4" name="visibility-content-group" value="" class="input input-checkbox visibility-content-group-NAME4" />
                                    <label for="visibility-content-group-NAME4" class="label">Content Group NAME 4</label>
                                </li>

                                <!-- NOTE: @andyarmstrong, here's an example of how we would treat a group that was deleted/removed - we need a .was removed class and an additional UI element called a .note -->
                                <li class="field field-checkbox field-visibility-content-group was-removed">
                                    <input type="checkbox" id="visibility-content-group-deleted1" name="visibility-content-group" value="" class="input input-checkbox visibility-content-group-deleted" checked="checked" />
                                    <label for="visibility-content-group-deleted1" class="label">
                                        Deleted Content Group
                                        <span class="note">Content group no longer exists. Please choose another or allow access to All Students and staff</span>
                                    </label>
                                </li>
                            </ul>
                        </div>
                    </section>
                </div>
            </div>
        </div>

    </form>
</div><!-- .xblock-editor -->
